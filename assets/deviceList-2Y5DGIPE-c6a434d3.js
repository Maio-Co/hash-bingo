import{w as H}from"./chunk-RT7AM6B4-aedc0ac4.js";import{p as V}from"./chunk-J7QRBMDL-6e18041d.js";import{N as K}from"./chunk-5CZ6V5XL-653cab07.js";import{a_ as x,bg as f,r as a,bh as g,b9 as C,bm as b,aM as W,aN as I,bn as F,bd as L,Y as Q,F as T,j as U,o as u,bo as G}from"./index-d9a9a9ca.js";import{u as J}from"./useRequest-842191fa.js";import{V as X}from"./dayjs.min-8b206fae.js";import{u as Z}from"./useTranslation-97073332.js";import"./throttle-3b1b0909.js";import"./index-449daa56.js";var ee=function(e){var i=e.prefixCls,v=e.className,m=e.style,n=e.size,s=e.shape,l=x(f(f({},"".concat(i,"-lg"),n==="large"),"".concat(i,"-sm"),n==="small")),t=x(f(f(f({},"".concat(i,"-circle"),s==="circle"),"".concat(i,"-square"),s==="square"),"".concat(i,"-round"),s==="round")),r=a.useMemo(function(){return typeof n=="number"?{width:n,height:n,lineHeight:"".concat(n,"px")}:{}},[n]);return a.createElement("span",{className:x(i,l,t,v),style:g(g({},r),m)})};const k=ee;var te=function(e){var i=e.prefixCls,v=e.className,m=e.active,n=e.shape,s=n===void 0?"circle":n,l=e.size,t=l===void 0?"default":l,r=a.useContext(C),d=r.getPrefixCls,o=d("skeleton",i),h=b(e,["prefixCls","className"]),N=x(o,"".concat(o,"-element"),f({},"".concat(o,"-active"),m),v);return a.createElement("div",{className:N},a.createElement(k,g({prefixCls:"".concat(o,"-avatar"),shape:s,size:t},h)))};const ae=te;var ie=function(e){var i=e.prefixCls,v=e.className,m=e.active,n=e.block,s=n===void 0?!1:n,l=e.size,t=l===void 0?"default":l,r=a.useContext(C),d=r.getPrefixCls,o=d("skeleton",i),h=b(e,["prefixCls"]),N=x(o,"".concat(o,"-element"),f(f({},"".concat(o,"-active"),m),"".concat(o,"-block"),s),v);return a.createElement("div",{className:N},a.createElement(k,g({prefixCls:"".concat(o,"-button"),size:t},h)))};const ne=ie;var re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const ce=re;var le=function(e,i){return a.createElement(W,I(I({},e),{},{ref:i,icon:ce}))},se=a.forwardRef(le);const oe=se;var ve=function(e){var i=e.prefixCls,v=e.className,m=e.style,n=e.active,s=e.children,l=a.useContext(C),t=l.getPrefixCls,r=t("skeleton",i),d=x(r,"".concat(r,"-element"),f({},"".concat(r,"-active"),n),v),o=s??a.createElement(oe,null);return a.createElement("div",{className:d},a.createElement("div",{className:x("".concat(r,"-image"),v),style:m},o))};const de=ve;var me="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",ue=function(e){var i=e.prefixCls,v=e.className,m=e.style,n=e.active,s=a.useContext(C),l=s.getPrefixCls,t=l("skeleton",i),r=x(t,"".concat(t,"-element"),f({},"".concat(t,"-active"),n),v);return a.createElement("div",{className:r},a.createElement("div",{className:x("".concat(t,"-image"),v),style:m},a.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(t,"-image-svg")},a.createElement("path",{d:me,className:"".concat(t,"-image-path")}))))};const fe=ue;var ge=function(e){var i=e.prefixCls,v=e.className,m=e.active,n=e.block,s=e.size,l=s===void 0?"default":s,t=a.useContext(C),r=t.getPrefixCls,d=r("skeleton",i),o=b(e,["prefixCls"]),h=x(d,"".concat(d,"-element"),f(f({},"".concat(d,"-active"),m),"".concat(d,"-block"),n),v);return a.createElement("div",{className:h},a.createElement(k,g({prefixCls:"".concat(d,"-input"),size:l},o)))};const xe=ge;var he=function(e){var i=function(r){var d=e.width,o=e.rows,h=o===void 0?2:o;if(Array.isArray(d))return d[r];if(h-1===r)return d},v=e.prefixCls,m=e.className,n=e.style,s=e.rows,l=F(Array(s)).map(function(t,r){return a.createElement("li",{key:r,style:{width:i(r)}})});return a.createElement("ul",{className:x(v,m),style:n},l)};const pe=he;var Ce=function(e){var i=e.prefixCls,v=e.className,m=e.width,n=e.style;return a.createElement("h3",{className:x(i,v),style:g({width:m},n)})};const we=Ce;function _(c){return c&&L(c)==="object"?c:{}}function Ne(c,e){return c&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ye(c,e){return!c&&e?{width:"38%"}:c&&e?{width:"50%"}:{}}function Ee(c,e){var i={};return(!c||!e)&&(i.width="61%"),!c&&e?i.rows=3:i.rows=2,i}var w=function(e){var i=e.prefixCls,v=e.loading,m=e.className,n=e.style,s=e.children,l=e.avatar,t=l===void 0?!1:l,r=e.title,d=r===void 0?!0:r,o=e.paragraph,h=o===void 0?!0:o,N=e.active,B=e.round,P=a.useContext(C),M=P.getPrefixCls,j=P.direction,p=M("skeleton",i);if(v||!("loading"in e)){var y=!!t,E=!!d,z=!!h,$;if(y){var R=g(g({prefixCls:"".concat(p,"-avatar")},Ne(E,z)),_(t));$=a.createElement("div",{className:"".concat(p,"-header")},a.createElement(k,g({},R)))}var S;if(E||z){var q;if(E){var A=g(g({prefixCls:"".concat(p,"-title")},ye(y,z)),_(d));q=a.createElement(we,g({},A))}var D;if(z){var O=g(g({prefixCls:"".concat(p,"-paragraph")},Ee(y,E)),_(h));D=a.createElement(pe,g({},O))}S=a.createElement("div",{className:"".concat(p,"-content")},q,D)}var Y=x(p,f(f(f(f({},"".concat(p,"-with-avatar"),y),"".concat(p,"-active"),N),"".concat(p,"-rtl"),j==="rtl"),"".concat(p,"-round"),B),m);return a.createElement("div",{className:Y,style:n},$,S)}return typeof s<"u"?s:null};w.Button=ne;w.Avatar=ae;w.Input=xe;w.Image=fe;w.Node=de;const ze=w;var ke=`.device-list-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  color: var(--text-color);
}
.device-list-container .scroll-wrapper {
  flex: 1;
  overflow: auto;
}
.device-list-container .devices-description {
  margin: 32px 18px 40px;
  font-weight: 400;
  font-size: 13px;
  color: var(--secondary-text-color);
}
.device-list-container .ant-spin-nested-loading > div > .ant-spin {
  top: 10vh;
}
.device-list-container .device-list {
  width: 100%;
  padding: 0 18px;
}
.device-list-container .device-list .ant-skeleton-content .ant-skeleton-title {
  display: none;
}
.device-list-container .device-list .item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 70px;
  padding: 0 12px 0 14px;
  margin-bottom: 10px;
  border-radius: var(--card-border-radius);
  background: var(--card-unclickable-background-color);
  cursor: pointer;
}
.device-list-container .device-list .item .device {
  font-weight: 500;
  font-size: 14px;
}
.device-list-container .device-list .item .created_at {
  margin-top: 4px;
  font-weight: 400;
  font-size: 12px;
  line-height: 1.2;
  color: var(--secondary-text-color);
}
.device-list-container .device-list .item .right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
}
.device-list-container .device-list .item .right .arrow-right-icon {
  color: var(--text-color);
}
.device-list-container .device-list .item .right .arrow-right-icon svg {
  width: 12px;
  height: 12px;
}
.device-list-container .device-list .item .right .current-icon {
  position: relative;
  height: 20px;
  padding: 0 10px;
  border-radius: 30px;
  overflow: hidden;
  font-size: 13px;
  line-height: 20px;
  white-space: nowrap;
  color: var(--accent-color);
}
.device-list-container .device-list .item .right .current-icon::after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--accent-color);
  opacity: 0.15;
  content: '';
}
`,_e=()=>{let{t:c}=Z(),e=Q(),{modalOptions:i}=T(),{language:v}=U(),{loading:m,data:n=[],run:s}=J(()=>G().then(l=>l.map(t=>{var r,d;if(t.updated_at&&(t.updated_at=X(new Date(t.updated_at)).format("YYYY/MM/DD HH:mm")),i.projectId===t.project_app_uuid&&(t.isCurrent=!0),t.login_channel&&(t.login_channel=t.login_channel.replace(/( |^)[a-z]/g,o=>o.toUpperCase())),(r=t==null?void 0:t.location)!=null&&r.country_code)try{t.location.country_name=new Intl.DisplayNames([v||"en"],{type:"region"}).of((d=t==null?void 0:t.location)==null?void 0:d.country_code)}catch{}return t})),{cacheKey:"getAuthorizations",manual:!0});return a.useEffect(()=>{s()},[]),u.createElement("div",{className:"device-list-container"},u.createElement("style",null,ke),u.createElement(H,{displayBackBtn:!0},c("new.authorization")),u.createElement("div",{className:"scroll-wrapper"},u.createElement("div",{className:"devices-description"},c("new.authorization_tips")),m?u.createElement("div",{className:"device-list"},u.createElement(ze,null)):u.createElement("div",{className:"device-list"},n==null?void 0:n.map((l,t)=>u.createElement("div",{className:"item",key:t,onClick:()=>{e("/manageDevices/deviceDetails",{state:{loginDeviceInfo:l}})}},u.createElement("div",{className:"left"},u.createElement("div",{className:"wrap"},u.createElement("div",{className:"s-row device"},l.project_app_name),u.createElement("div",{className:"s-row created_at"},l.updated_at))),u.createElement("div",{className:"right"},l.isCurrent&&u.createElement("div",{className:"current-icon"},c("new.current")),u.createElement(V,{className:"arrow-right-icon",name:"arrow_right_icon"})))))),u.createElement(K,{className:"footer-box-v2"}))},je=_e;export{je as default};
